<html>
<head>
<title>An example of using JSReports Designer</title>
    <style type="text/css">
        body {
            padding: 20px;
            margin: 0;
            font: 16px/22px "Source Sans Pro", Helvetica, sans-serif;
            font-size-adjust: none;
            font-style: normal;
            font-variant: normal;
            font-weight: normal;
            background: #f4f6ec;
            color: #333;
        }
    </style>
</head>
<body>
<P>This is an attempt to use the jsreports embedded Designer</P>
<div class="report-designer-container"></div>
<div class="report-definition-container"></div>
</body>
<script src="jsreports-all.min.js" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-1.11.0.min.js" integrity="sha256-spTpc4lvj4dOkKjrGokIrHkJgNA0xMS98Pw9N7ir9oI=" crossorigin="anonymous"></script>
<script>
$( document ).ready(function() {

// Set up variables that apply to all reports
var data_sources = [
{
  "id": "resourcescompliancetorules",
  "name": "Compliance Details",
  "url": "resourcescompliancetorules.json",
  "schema_url": "resourcescompliancetorulesschema.json"
}
];


// Create a Designer
// Load the report definition
$.getJSON("bucket-report-def-xls", function(report_def) {
    var designer = new jsreports.Designer({
	embedded: true,
	container: $(".report-designer-container"),
	data_sources: data_sources,
	report_def: report_def,
	});
    designer.on("save", function(def) {
	$( "div.report-definition-container" ).text(def);
	  alert("Report definition at bottom of this page. Copy and save back - ;-).");
	});
});
});
</script>
</html>

